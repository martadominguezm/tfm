{"remainingRequest":"/Users/martadom/Desktop/TFM/FINAL/tfm/node_modules/babel-loader/lib/index.js!/Users/martadom/Desktop/TFM/FINAL/tfm/src/@core/libs/acl/utils.js","dependencies":[{"path":"/Users/martadom/Desktop/TFM/FINAL/tfm/src/@core/libs/acl/utils.js","mtime":1689868462000},{"path":"/Users/martadom/Desktop/TFM/FINAL/tfm/babel.config.js","mtime":1689868462000},{"path":"/Users/martadom/Desktop/TFM/FINAL/tfm/node_modules/cache-loader/dist/cjs.js","mtime":1688895642525},{"path":"/Users/martadom/Desktop/TFM/FINAL/tfm/node_modules/babel-loader/lib/index.js","mtime":1688895642501}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgZ2V0Q3VycmVudEluc3RhbmNlIH0gZnJvbSAnQHZ1ZS9jb21wb3NpdGlvbi1hcGknOwovKioKICogUmV0dXJucyBhYmlsaXR5IHJlc3VsdCBpZiBBQ0wgaXMgY29uZmlndXJlZCBvciBlbHNlIGp1c3QgcmV0dXJuIHRydWUKICogVXNlZnVsIGlmIHlvdSBkb24ndCBrbm93IGlmIEFDTCBpcyBjb25maWd1cmVkIG9yIG5vdAogKiBVc2VkIGluIEBjb3JlIGZpbGVzIHRvIGhhbmRsZSBhYnNlbmNlIG9mIEFDTCB3aXRob3V0IGVycm9ycwogKiBAcGFyYW0ge1N0cmluZ30gYWN0aW9uIENBU0wgQWN0aW9ucyAvLyBodHRwczovL2Nhc2wuanMub3JnL3Y0L2VuL2d1aWRlL2ludHJvI2Jhc2ljcwogKiBAcGFyYW0ge1N0cmluZ30gc3ViamVjdCBDQVNMIFN1YmplY3QgLy8gaHR0cHM6Ly9jYXNsLmpzLm9yZy92NC9lbi9ndWlkZS9pbnRybyNiYXNpY3MKICovCgpleHBvcnQgY29uc3QgY2FuID0gKGFjdGlvbiwgc3ViamVjdCkgPT4gewogIGNvbnN0IHZtID0gZ2V0Q3VycmVudEluc3RhbmNlKCkucHJveHk7CiAgcmV0dXJuIHZtLiRjYW4gPyB2bS4kY2FuKGFjdGlvbiwgc3ViamVjdCkgOiB0cnVlOwp9OwovKioKICogQ2hlY2sgaWYgdXNlciBjYW4gdmlldyBpdGVtIGJhc2VkIG9uIGl0J3MgYWJpbGl0eQogKiBCYXNlZCBvbiBpdGVtJ3MgYWN0aW9uIGFuZCByZXNvdXJjZQogKiBAcGFyYW0ge09iamVjdH0gaXRlbSBuYXZpZ2F0aW9uIG9iamVjdCBpdGVtCiAqLwoKZXhwb3J0IGNvbnN0IGNhblZpZXdWZXJ0aWNhbE5hdk1lbnVMaW5rID0gaXRlbSA9PiBjYW4oaXRlbS5hY3Rpb24sIGl0ZW0ucmVzb3VyY2UpOwovKioKICogQ2hlY2sgaWYgdXNlciBjYW4gdmlldyBpdGVtIGJhc2VkIG9uIGl0J3MgYWJpbGl0eQogKiBCYXNlZCBvbiBpdGVtJ3MgYWN0aW9uIGFuZCByZXNvdXJjZSAmIEhpZGUgZ3JvdXAgaWYgYWxsIG9mIGl0J3MgY2hpbGRyZW4gYXJlIGhpZGRlbgogKiBAcGFyYW0ge09iamVjdH0gaXRlbSBuYXZpZ2F0aW9uIG9iamVjdCBpdGVtCiAqLwovLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgYXJyb3ctYm9keS1zdHlsZQoKZXhwb3J0IGNvbnN0IGNhblZpZXdWZXJ0aWNhbE5hdk1lbnVHcm91cCA9IGl0ZW0gPT4gewogIC8vICEgVGhpcyBzYW1lIGxvZ2ljIGlzIHVzZWQgaW4gY2FuVmlld0hvcml6b250YWxOYXZNZW51R3JvdXAgYW5kIGNhblZpZXdIb3Jpem9udGFsTmF2TWVudUhlYWRlckdyb3VwLiBTbyBtYWtlIHN1cmUgdG8gdXBkYXRlIGxvZ2ljIGluIHRoZW0gYXMgd2VsbAogIGNvbnN0IGhhc0FueVZpc2libGVDaGlsZCA9IGl0ZW0uY2hpbGRyZW4uc29tZShpID0+IGNhbihpLmFjdGlvbiwgaS5yZXNvdXJjZSkpOyAvLyBJZiByZXNvdXJjZSBhbmQgYWN0aW9uIGlzIGRlZmluZWQgaW4gaXRlbSA9PiBSZXR1cm4gYmFzZWQgb24gY2hpbGRyZW4gdmlzaWJpbGl0eSAoSGlkZSBncm91cCBpZiBubyBjaGlsZCBpcyB2aXNpYmxlKQogIC8vIEVsc2UgY2hlY2sgZm9yIGFiaWxpdHkgdXNpbmcgcHJvdmlkZWQgcmVzb3VyY2UgYW5kIGFjdGlvbiBhbG9uZyB3aXRoIGNoZWNraW5nIGlmIGhhcyBhbnkgdmlzaWJsZSBjaGlsZAoKICBpZiAoIShpdGVtLmFjdGlvbiAmJiBpdGVtLnJlc291cmNlKSkgewogICAgcmV0dXJuIGhhc0FueVZpc2libGVDaGlsZDsKICB9CgogIHJldHVybiBjYW4oaXRlbS5hY3Rpb24sIGl0ZW0ucmVzb3VyY2UpICYmIGhhc0FueVZpc2libGVDaGlsZDsKfTsKLyoqCiAqIENoZWNrIGlmIHVzZXIgY2FuIHZpZXcgaXRlbSBiYXNlZCBvbiBpdCdzIGFiaWxpdHkKICogQmFzZWQgb24gaXRlbSdzIGFjdGlvbiBhbmQgcmVzb3VyY2UKICogQHBhcmFtIHtPYmplY3R9IGl0ZW0gbmF2aWdhdGlvbiBvYmplY3QgaXRlbQogKi8KCmV4cG9ydCBjb25zdCBjYW5WaWV3VmVydGljYWxOYXZNZW51SGVhZGVyID0gaXRlbSA9PiBjYW4oaXRlbS5hY3Rpb24sIGl0ZW0ucmVzb3VyY2UpOwovKioKICogQ2hlY2sgaWYgdXNlciBjYW4gdmlldyBpdGVtIGJhc2VkIG9uIGl0J3MgYWJpbGl0eQogKiBCYXNlZCBvbiBpdGVtJ3MgYWN0aW9uIGFuZCByZXNvdXJjZQogKiBAcGFyYW0ge09iamVjdH0gaXRlbSBuYXZpZ2F0aW9uIG9iamVjdCBpdGVtCiAqLwoKZXhwb3J0IGNvbnN0IGNhblZpZXdIb3Jpem9udGFsTmF2TWVudUxpbmsgPSBpdGVtID0+IGNhbihpdGVtLmFjdGlvbiwgaXRlbS5yZXNvdXJjZSk7Ci8qKgogKiBDaGVjayBpZiB1c2VyIGNhbiB2aWV3IGl0ZW0gYmFzZWQgb24gaXQncyBhYmlsaXR5CiAqIEJhc2VkIG9uIGl0ZW0ncyBhY3Rpb24gYW5kIHJlc291cmNlCiAqIEBwYXJhbSB7T2JqZWN0fSBpdGVtIG5hdmlnYXRpb24gb2JqZWN0IGl0ZW0KICovCgpleHBvcnQgY29uc3QgY2FuVmlld0hvcml6b250YWxOYXZNZW51SGVhZGVyTGluayA9IGl0ZW0gPT4gY2FuKGl0ZW0uYWN0aW9uLCBpdGVtLnJlc291cmNlKTsKLyoqCiAqIENoZWNrIGlmIHVzZXIgY2FuIHZpZXcgaXRlbSBiYXNlZCBvbiBpdCdzIGFiaWxpdHkKICogQmFzZWQgb24gaXRlbSdzIGFjdGlvbiBhbmQgcmVzb3VyY2UgJiBIaWRlIGdyb3VwIGlmIGFsbCBvZiBpdCdzIGNoaWxkcmVuIGFyZSBoaWRkZW4KICogQHBhcmFtIHtPYmplY3R9IGl0ZW0gbmF2aWdhdGlvbiBvYmplY3QgaXRlbQogKi8KLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGFycm93LWJvZHktc3R5bGUKCmV4cG9ydCBjb25zdCBjYW5WaWV3SG9yaXpvbnRhbE5hdk1lbnVHcm91cCA9IGl0ZW0gPT4gewogIC8vID8gU2FtZSBsb2dpYyBhcyBjYW5WaWV3VmVydGljYWxOYXZNZW51R3JvdXAKICBjb25zdCBoYXNBbnlWaXNpYmxlQ2hpbGQgPSBpdGVtLmNoaWxkcmVuLnNvbWUoaSA9PiBjYW4oaS5hY3Rpb24sIGkucmVzb3VyY2UpKTsgLy8gSWYgcmVzb3VyY2UgYW5kIGFjdGlvbiBpcyBkZWZpbmVkIGluIGl0ZW0gPT4gUmV0dXJuIGJhc2VkIG9uIGNoaWxkcmVuIHZpc2liaWxpdHkgKEhpZGUgZ3JvdXAgaWYgbm8gY2hpbGQgaXMgdmlzaWJsZSkKICAvLyBFbHNlIGNoZWNrIGZvciBhYmlsaXR5IHVzaW5nIHByb3ZpZGVkIHJlc291cmNlIGFuZCBhY3Rpb24gYWxvbmcgd2l0aCBjaGVja2luZyBpZiBoYXMgYW55IHZpc2libGUgY2hpbGQKCiAgaWYgKCEoaXRlbS5hY3Rpb24gJiYgaXRlbS5yZXNvdXJjZSkpIHsKICAgIHJldHVybiBoYXNBbnlWaXNpYmxlQ2hpbGQ7CiAgfQoKICByZXR1cm4gY2FuKGl0ZW0uYWN0aW9uLCBpdGVtLnJlc291cmNlKSAmJiBoYXNBbnlWaXNpYmxlQ2hpbGQ7Cn07IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBhcnJvdy1ib2R5LXN0eWxlCgpleHBvcnQgY29uc3QgY2FuVmlld0hvcml6b250YWxOYXZNZW51SGVhZGVyR3JvdXAgPSBpdGVtID0+IHsKICAvLyA/IFNhbWUgbG9naWMgYXMgY2FuVmlld1ZlcnRpY2FsTmF2TWVudUdyb3VwIGJ1dCB3aXRoIGV4dHJhIGNvbnRlbnQKICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgYXJyb3ctYm9keS1zdHlsZQogIGNvbnN0IGhhc0FueVZpc2libGVDaGlsZCA9IGl0ZW0uY2hpbGRyZW4uc29tZShncnBPckl0ZW0gPT4gewogICAgLy8gSWYgaXQgaGF2ZSBjaGlsZHJlbiA9PiBJdCdzIGdycAogICAgLy8gQ2FsbCBBQ0wgZnVuY3Rpb24gYmFzZWQgb24gZ3JwL2xpbmsKICAgIHJldHVybiBncnBPckl0ZW0uY2hpbGRyZW4gPyBjYW5WaWV3SG9yaXpvbnRhbE5hdk1lbnVHcm91cChncnBPckl0ZW0pIDogY2FuVmlld0hvcml6b250YWxOYXZNZW51TGluayhncnBPckl0ZW0pOwogIH0pOyAvLyBJZiByZXNvdXJjZSBhbmQgYWN0aW9uIGlzIGRlZmluZWQgaW4gaXRlbSA9PiBSZXR1cm4gYmFzZWQgb24gY2hpbGRyZW4gdmlzaWJpbGl0eSAoSGlkZSBncm91cCBpZiBubyBjaGlsZCBpcyB2aXNpYmxlKQogIC8vIEVsc2UgY2hlY2sgZm9yIGFiaWxpdHkgdXNpbmcgcHJvdmlkZWQgcmVzb3VyY2UgYW5kIGFjdGlvbiBhbG9uZyB3aXRoIGNoZWNraW5nIGlmIGhhcyBhbnkgdmlzaWJsZSBjaGlsZAoKICBpZiAoIShpdGVtLmFjdGlvbiAmJiBpdGVtLnJlc291cmNlKSkgewogICAgcmV0dXJuIGhhc0FueVZpc2libGVDaGlsZDsKICB9CgogIHJldHVybiBjYW4oaXRlbS5hY3Rpb24sIGl0ZW0ucmVzb3VyY2UpICYmIGhhc0FueVZpc2libGVDaGlsZDsKfTs="},{"version":3,"names":["getCurrentInstance","can","action","subject","vm","proxy","$can","canViewVerticalNavMenuLink","item","resource","canViewVerticalNavMenuGroup","hasAnyVisibleChild","children","some","i","canViewVerticalNavMenuHeader","canViewHorizontalNavMenuLink","canViewHorizontalNavMenuHeaderLink","canViewHorizontalNavMenuGroup","canViewHorizontalNavMenuHeaderGroup","grpOrItem"],"sources":["/Users/martadom/Desktop/TFM/FINAL/tfm/src/@core/libs/acl/utils.js"],"sourcesContent":["import { getCurrentInstance } from '@vue/composition-api'\n\n/**\n * Returns ability result if ACL is configured or else just return true\n * Useful if you don't know if ACL is configured or not\n * Used in @core files to handle absence of ACL without errors\n * @param {String} action CASL Actions // https://casl.js.org/v4/en/guide/intro#basics\n * @param {String} subject CASL Subject // https://casl.js.org/v4/en/guide/intro#basics\n */\nexport const can = (action, subject) => {\n  const vm = getCurrentInstance().proxy\n\n  return vm.$can ? vm.$can(action, subject) : true\n}\n\n/**\n * Check if user can view item based on it's ability\n * Based on item's action and resource\n * @param {Object} item navigation object item\n */\nexport const canViewVerticalNavMenuLink = item => can(item.action, item.resource)\n\n/**\n * Check if user can view item based on it's ability\n * Based on item's action and resource & Hide group if all of it's children are hidden\n * @param {Object} item navigation object item\n */\n// eslint-disable-next-line arrow-body-style\nexport const canViewVerticalNavMenuGroup = item => {\n  // ! This same logic is used in canViewHorizontalNavMenuGroup and canViewHorizontalNavMenuHeaderGroup. So make sure to update logic in them as well\n  const hasAnyVisibleChild = item.children.some(i => can(i.action, i.resource))\n\n  // If resource and action is defined in item => Return based on children visibility (Hide group if no child is visible)\n  // Else check for ability using provided resource and action along with checking if has any visible child\n  if (!(item.action && item.resource)) {\n    return hasAnyVisibleChild\n  }\n\n  return can(item.action, item.resource) && hasAnyVisibleChild\n}\n\n/**\n * Check if user can view item based on it's ability\n * Based on item's action and resource\n * @param {Object} item navigation object item\n */\nexport const canViewVerticalNavMenuHeader = item => can(item.action, item.resource)\n\n/**\n * Check if user can view item based on it's ability\n * Based on item's action and resource\n * @param {Object} item navigation object item\n */\nexport const canViewHorizontalNavMenuLink = item => can(item.action, item.resource)\n\n/**\n * Check if user can view item based on it's ability\n * Based on item's action and resource\n * @param {Object} item navigation object item\n */\nexport const canViewHorizontalNavMenuHeaderLink = item => can(item.action, item.resource)\n\n/**\n * Check if user can view item based on it's ability\n * Based on item's action and resource & Hide group if all of it's children are hidden\n * @param {Object} item navigation object item\n */\n// eslint-disable-next-line arrow-body-style\nexport const canViewHorizontalNavMenuGroup = item => {\n  // ? Same logic as canViewVerticalNavMenuGroup\n  const hasAnyVisibleChild = item.children.some(i => can(i.action, i.resource))\n\n  // If resource and action is defined in item => Return based on children visibility (Hide group if no child is visible)\n  // Else check for ability using provided resource and action along with checking if has any visible child\n  if (!(item.action && item.resource)) {\n    return hasAnyVisibleChild\n  }\n\n  return can(item.action, item.resource) && hasAnyVisibleChild\n}\n\n// eslint-disable-next-line arrow-body-style\nexport const canViewHorizontalNavMenuHeaderGroup = item => {\n  // ? Same logic as canViewVerticalNavMenuGroup but with extra content\n\n  // eslint-disable-next-line arrow-body-style\n  const hasAnyVisibleChild = item.children.some(grpOrItem => {\n    // If it have children => It's grp\n    // Call ACL function based on grp/link\n    return grpOrItem.children ? canViewHorizontalNavMenuGroup(grpOrItem) : canViewHorizontalNavMenuLink(grpOrItem)\n  })\n\n  // If resource and action is defined in item => Return based on children visibility (Hide group if no child is visible)\n  // Else check for ability using provided resource and action along with checking if has any visible child\n  if (!(item.action && item.resource)) {\n    return hasAnyVisibleChild\n  }\n\n  return can(item.action, item.resource) && hasAnyVisibleChild\n}\n"],"mappings":"AAAA,SAASA,kBAAT,QAAmC,sBAAnC;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,MAAMC,GAAG,GAAG,CAACC,MAAD,EAASC,OAAT,KAAqB;EACtC,MAAMC,EAAE,GAAGJ,kBAAkB,GAAGK,KAAhC;EAEA,OAAOD,EAAE,CAACE,IAAH,GAAUF,EAAE,CAACE,IAAH,CAAQJ,MAAR,EAAgBC,OAAhB,CAAV,GAAqC,IAA5C;AACD,CAJM;AAMP;AACA;AACA;AACA;AACA;;AACA,OAAO,MAAMI,0BAA0B,GAAGC,IAAI,IAAIP,GAAG,CAACO,IAAI,CAACN,MAAN,EAAcM,IAAI,CAACC,QAAnB,CAA9C;AAEP;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,MAAMC,2BAA2B,GAAGF,IAAI,IAAI;EACjD;EACA,MAAMG,kBAAkB,GAAGH,IAAI,CAACI,QAAL,CAAcC,IAAd,CAAmBC,CAAC,IAAIb,GAAG,CAACa,CAAC,CAACZ,MAAH,EAAWY,CAAC,CAACL,QAAb,CAA3B,CAA3B,CAFiD,CAIjD;EACA;;EACA,IAAI,EAAED,IAAI,CAACN,MAAL,IAAeM,IAAI,CAACC,QAAtB,CAAJ,EAAqC;IACnC,OAAOE,kBAAP;EACD;;EAED,OAAOV,GAAG,CAACO,IAAI,CAACN,MAAN,EAAcM,IAAI,CAACC,QAAnB,CAAH,IAAmCE,kBAA1C;AACD,CAXM;AAaP;AACA;AACA;AACA;AACA;;AACA,OAAO,MAAMI,4BAA4B,GAAGP,IAAI,IAAIP,GAAG,CAACO,IAAI,CAACN,MAAN,EAAcM,IAAI,CAACC,QAAnB,CAAhD;AAEP;AACA;AACA;AACA;AACA;;AACA,OAAO,MAAMO,4BAA4B,GAAGR,IAAI,IAAIP,GAAG,CAACO,IAAI,CAACN,MAAN,EAAcM,IAAI,CAACC,QAAnB,CAAhD;AAEP;AACA;AACA;AACA;AACA;;AACA,OAAO,MAAMQ,kCAAkC,GAAGT,IAAI,IAAIP,GAAG,CAACO,IAAI,CAACN,MAAN,EAAcM,IAAI,CAACC,QAAnB,CAAtD;AAEP;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,MAAMS,6BAA6B,GAAGV,IAAI,IAAI;EACnD;EACA,MAAMG,kBAAkB,GAAGH,IAAI,CAACI,QAAL,CAAcC,IAAd,CAAmBC,CAAC,IAAIb,GAAG,CAACa,CAAC,CAACZ,MAAH,EAAWY,CAAC,CAACL,QAAb,CAA3B,CAA3B,CAFmD,CAInD;EACA;;EACA,IAAI,EAAED,IAAI,CAACN,MAAL,IAAeM,IAAI,CAACC,QAAtB,CAAJ,EAAqC;IACnC,OAAOE,kBAAP;EACD;;EAED,OAAOV,GAAG,CAACO,IAAI,CAACN,MAAN,EAAcM,IAAI,CAACC,QAAnB,CAAH,IAAmCE,kBAA1C;AACD,CAXM,C,CAaP;;AACA,OAAO,MAAMQ,mCAAmC,GAAGX,IAAI,IAAI;EACzD;EAEA;EACA,MAAMG,kBAAkB,GAAGH,IAAI,CAACI,QAAL,CAAcC,IAAd,CAAmBO,SAAS,IAAI;IACzD;IACA;IACA,OAAOA,SAAS,CAACR,QAAV,GAAqBM,6BAA6B,CAACE,SAAD,CAAlD,GAAgEJ,4BAA4B,CAACI,SAAD,CAAnG;EACD,CAJ0B,CAA3B,CAJyD,CAUzD;EACA;;EACA,IAAI,EAAEZ,IAAI,CAACN,MAAL,IAAeM,IAAI,CAACC,QAAtB,CAAJ,EAAqC;IACnC,OAAOE,kBAAP;EACD;;EAED,OAAOV,GAAG,CAACO,IAAI,CAACN,MAAN,EAAcM,IAAI,CAACC,QAAnB,CAAH,IAAmCE,kBAA1C;AACD,CAjBM"}]}