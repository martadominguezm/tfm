{"remainingRequest":"/Users/martadom/Desktop/TFM/test/node_modules/babel-loader/lib/index.js!/Users/martadom/Desktop/TFM/test/src/router/index.js","dependencies":[{"path":"/Users/martadom/Desktop/TFM/test/src/router/index.js","mtime":1693492075202},{"path":"/Users/martadom/Desktop/TFM/test/babel.config.js","mtime":1689868462000},{"path":"/Users/martadom/Desktop/TFM/test/node_modules/cache-loader/dist/cjs.js","mtime":1688895642525},{"path":"/Users/martadom/Desktop/TFM/test/node_modules/babel-loader/lib/index.js","mtime":1688895642501}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY2FuTmF2aWdhdGUgfSBmcm9tICdAL3BsdWdpbnMvYWNsL3JvdXRlUHJvdGVjdGlvbic7CmltcG9ydCBzdG9yZSBmcm9tICdAL3N0b3JlJzsgLy8gaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJyAvLyBTRVJWSURPUgoKaW1wb3J0IHsgbWRpQWNjb3VudEdyb3VwLCBtZGlCYXNrZXRiYWxsLCBtZGlCYXNrZXRiYWxsSG9vcE91dGxpbmUsIG1kaVNvY2NlciwgbWRpVGVubmlzLCBtZGlUZW5uaXNCYWxsIH0gZnJvbSAnQG1kaS9qcyc7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZVJvdXRlciBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IHsgYWRkRG9jLCBjb2xsZWN0aW9uLCBmaXJlc3RvcmUsIGdldERvY3MsIG9yZGVyQnksIHF1ZXJ5LCB3aGVyZSB9IGZyb20gJy4uL2ZpcmViYXNlJzsgLy8gaW1wb3J0IHsgYWNjZXNzQ29udHJvbCwgY2FsY3VsYXRlUHJvYmFiaWxpdGllcywgZ2V0U2Vzc2lvbnMsIGltcHJvdmVVc2VyRXhwZXJpZW5jZSB9IGZyb20gJy4uL19oZWxwZXJzJwoKaW1wb3J0IHsgYWNjZXNzQ29udHJvbCwgY2FsY3VsYXRlUHJvYmFiaWxpdGllcywgZ2V0U2Vzc2lvbnMsIGltcHJvdmVVc2VyRXhwZXJpZW5jZSB9IGZyb20gJ3VzZXItaWRlbnRpdHktdHJhY2tlcic7CmltcG9ydCBteVZpZXdzIGZyb20gJy4vbXlWaWV3cyc7ClZ1ZS51c2UoVnVlUm91dGVyKTsKY29uc3Qgcm91dGVzID0gWy8vID8gV2UgYXJlIHJlZGlyZWN0aW5nIHRvIGRpZmZlcmVudCBwYWdlcyBiYXNlZCBvbiByb2xlLgovLyBOT1RFOiBSb2xlIGlzIGp1c3QgZm9yIFVJIHB1cnBvc2VzLiBBQ0wgaXMgYmFzZWQgb24gYWJpbGl0aWVzLgp7CiAgcGF0aDogJy8nLAogIHJlZGlyZWN0OiB0byA9PiB7CiAgICBjb25zdCB1c2VyRGF0YSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJEYXRhJykpOwogICAgY29uc3QgdXNlclJvbGUgPSB1c2VyRGF0YSAmJiB1c2VyRGF0YS5yb2xlID8gdXNlckRhdGEucm9sZSA6IG51bGw7CiAgICBpZiAodXNlclJvbGUgPT09ICdhZG1pbicpIHJldHVybiB7CiAgICAgIG5hbWU6ICdob21lVmlldycKICAgIH07CiAgICByZXR1cm4gewogICAgICBuYW1lOiAnYXV0aC1sb2dpbicsCiAgICAgIHF1ZXJ5OiB0by5xdWVyeQogICAgfTsKICB9Cn0sIHsKICBwYXRoOiAnL2Vycm9yLTQwNCcsCiAgbmFtZTogJ2Vycm9yLTQwNCcsCiAgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJ0Avdmlld3MvRXJyb3I0MDQudnVlJyksCiAgbWV0YTogewogICAgbGF5b3V0OiAnYmxhbmsnLAogICAgcmVzb3VyY2U6ICdQdWJsaWMnCiAgfQp9LCB7CiAgcGF0aDogJy9sb2dpbicsCiAgbmFtZTogJ2F1dGgtbG9naW4nLAogIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdAL3ZpZXdzL0xvZ2luLnZ1ZScpLAogIG1ldGE6IHsKICAgIGxheW91dDogJ2JsYW5rJywKICAgIHJlc291cmNlOiAnUHVibGljJywKICAgIHJlZGlyZWN0SWZMb2dnZWRJbjogdHJ1ZQogIH0KfSwgewogIHBhdGg6ICcvcmVnaXN0ZXInLAogIG5hbWU6ICdhdXRoLXJlZ2lzdGVyJywKICBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgnQC92aWV3cy9SZWdpc3Rlci52dWUnKSwKICBtZXRhOiB7CiAgICBsYXlvdXQ6ICdibGFuaycsCiAgICByZXNvdXJjZTogJ1B1YmxpYycsCiAgICByZWRpcmVjdElmTG9nZ2VkSW46IHRydWUKICB9Cn0sIHsKICBwYXRoOiAnL2ZvcmdvdC1wYXNzd29yZCcsCiAgbmFtZTogJ2F1dGgtZm9yZ290LXBhc3N3b3JkJywKICBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgnQC92aWV3cy9Gb3Jnb3RQYXNzd29yZC52dWUnKSwKICBtZXRhOiB7CiAgICBsYXlvdXQ6ICdibGFuaycsCiAgICByZXNvdXJjZTogJ1B1YmxpYycsCiAgICByZWRpcmVjdElmTG9nZ2VkSW46IHRydWUKICB9Cn0sIC4uLm15Vmlld3MsIHsKICBwYXRoOiAnKicsCiAgcmVkaXJlY3Q6ICdlcnJvci00MDQnCn1dOwpjb25zdCByb3V0ZXIgPSBuZXcgVnVlUm91dGVyKHsKICBtb2RlOiAnaGlzdG9yeScsCiAgYmFzZTogcHJvY2Vzcy5lbnYuQkFTRV9VUkwsCiAgcm91dGVzLAoKICBzY3JvbGxCZWhhdmlvcigpIHsKICAgIHJldHVybiB7CiAgICAgIHg6IDAsCiAgICAgIHk6IDAKICAgIH07CiAgfQoKfSk7CmxldCBwcm9iYWJpbGl0eU1hdHJpeCA9IG51bGw7IC8vIERlY2xhcmFyIGxhIHZhcmlhYmxlIHByb2JhYmlsaXR5TWF0cml4Cgpjb25zdCBtb3N0UHJvYmFibGVSb3V0ZXNBcnJheSA9IFtdOyAvLyBEZWNsYXJhIHkgaW5pY2lhbGl6YSBlbCBhcnJheSBwYXJhIGxhcyBydXRhcyBtw6FzIHByb2JhYmxlcwovLyBWYXJpYWJsZSBnbG9iYWwgcGFyYSBhbG1hY2VuYXIgbG9zIHBhdGhzIGRlIG5hdmVnYWNpw7NuCgpjb25zdCBuYXZpZ2F0aW9uUGF0aHMgPSB7fTsgLy8gPyBSb3V0ZXIgQmVmb3JlIEVhY2ggaG9vazogaHR0cHM6Ly9yb3V0ZXIudnVlanMub3JnL2d1aWRlL2FkdmFuY2VkL25hdmlnYXRpb24tZ3VhcmRzLmh0bWwKCnJvdXRlci5iZWZvcmVFYWNoKGFzeW5jICh0bywgXywgbmV4dCkgPT4gewogIHZhciBfSlNPTiRwYXJzZSwgX0pTT04kcGFyc2UkdXNlcjsKCiAgLy8gbG8gaGUgZW52dWVsdm8gZW4gYXN5YyBwYXJhIHVzYXIgZWwgYXdhaXQKICBjb25zdCBpc0xvZ2dlZEluID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJEYXRhJyk7CiAgY29uc29sZS5sb2coaXNMb2dnZWRJbik7CgogIGlmICghY2FuTmF2aWdhdGUodG8pKSB7CiAgICAvLyBSZWRpcmVjdCB0byBsb2dpbiBpZiBub3QgbG9nZ2VkIGluCiAgICBpZiAoIWlzTG9nZ2VkSW4pIHJldHVybiBuZXh0KHsKICAgICAgbmFtZTogJ2F1dGgtbG9naW4nCiAgICB9KTsKICB9CgogIGNvbnN0IHVzZXJJZCA9IChfSlNPTiRwYXJzZSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJEYXRhJykpKSA9PT0gbnVsbCB8fCBfSlNPTiRwYXJzZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9KU09OJHBhcnNlJHVzZXIgPSBfSlNPTiRwYXJzZS51c2VyKSA9PT0gbnVsbCB8fCBfSlNPTiRwYXJzZSR1c2VyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfSlNPTiRwYXJzZSR1c2VyLnVpZDsKICBjb25zdCBzZXNzaW9uSWQgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzZXNzaW9uSWQnKSk7IC8vIFJlZGlyZWN0IGlmIGxvZ2dlZCBpbgoKICBpZiAodG8ubWV0YS5yZWRpcmVjdElmTG9nZ2VkSW4gJiYgaXNMb2dnZWRJbikgewogICAgbmV4dCgnL2hvbWUnKTsKICB9CgogIGlmICh1c2VySWQgJiYgc2Vzc2lvbklkKSB7CiAgICAvLyAgIGNvbnN0IHNlc3Npb25Db2xsZWN0aW9uID0gY29sbGVjdGlvbihmaXJlc3RvcmUsIGB1c2Vycy8ke3VzZXJJZH0vJHtzZXNzaW9uSWR9YCkKICAgIC8vICAgLy8gY29uc29sZS5sb2coJ3Nlc3Npb25Db2xsZWN0aW9uOicsIHNlc3Npb25Db2xsZWN0aW9uKQogICAgLy8gICAvLyBTYXZlIGRhdGEgdG8gRmlyZXN0b3JlIGRhdGFiYXNlCiAgICAvLyAgIGFkZERvYyhzZXNzaW9uQ29sbGVjdGlvbiwgewogICAgLy8gICAgIHNlc3Npb25JZCwKICAgIC8vICAgICBuYXZpZ2F0aW9uOiB0bz8uZnVsbFBhdGgsCiAgICAvLyAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLAogICAgLy8gICAgIHVzZXJJZCwKICAgIC8vICAgfSkKICAgIC8vICAgICAudGhlbigoKSA9PiB7CiAgICAvLyAgICAgICBjb25zb2xlLmxvZyhgRGF0YSBzYXZlZCB0byBGaXJlc3RvcmUgZGF0YWJhc2UgZm9yIHNlc3Npb246ICR7SlNPTi5zdHJpbmdpZnkoc2Vzc2lvbklkKX1gKQogICAgLy8gICAgIH0pCiAgICAvLyAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgIC8vICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpCiAgICAvLyAgICAgfSkKICAgIC8vICAgLy8gTlVFVkEgRVNUUlVDVFVSQSBERSBEQVRPUwogICAgLy8gICAvLyBjb2xlY2Npb24gYXBhcnRlIGxsYW1hZGEgc2Vzc2lvbnMKICAgIC8vIGNvbnN0IHNlc3Npb25Db2xsZWN0aW9uMiA9IGNvbGxlY3Rpb24oZmlyZXN0b3JlLCAnc2Vzc2lvbnMnKQogICAgLy8gLy8gU2F2ZSBkYXRhIHRvIEZpcmVzdG9yZSBkYXRhYmFzZQogICAgLy8gYWRkRG9jKHNlc3Npb25Db2xsZWN0aW9uMiwgewogICAgLy8gICBzZXNzaW9uSWQsCiAgICAvLyAgIG5hdmlnYXRpb246IHRvPy5mdWxsUGF0aCwKICAgIC8vICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLAogICAgLy8gICB1c2VySWQsCiAgICAvLyB9KQogICAgLy8gICAudGhlbigoKSA9PiB7CiAgICAvLyAgICAgY29uc29sZS5sb2coYERhdGEgc2F2ZWQgdG8gRmlyZXN0b3JlIGRhdGFiYXNlIGZvciBzZXNzaW9uOiAke0pTT04uc3RyaW5naWZ5KHNlc3Npb25JZCl9YCkKICAgIC8vICAgfSkKICAgIC8vICAgLmNhdGNoKGVycm9yID0+IHsKICAgIC8vICAgICBjb25zb2xlLmVycm9yKGVycm9yKQogICAgLy8gICB9KQogICAgLy8gUFJVRUJBUzogR3VhcmRhZG8gREUgREFUT1MKICAgIGNvbnN0IHNlc3Npb25Db2xsZWN0aW9uMyA9IGNvbGxlY3Rpb24oZmlyZXN0b3JlLCAnc2Vzc2lvbnNUZXN0Jyk7IC8vIFNhdmUgZGF0YSB0byBGaXJlc3RvcmUgZGF0YWJhc2UKCiAgICBhZGREb2Moc2Vzc2lvbkNvbGxlY3Rpb24zLCB7CiAgICAgIHNlc3Npb25JZCwKICAgICAgbmF2aWdhdGlvbjogdG8gPT09IG51bGwgfHwgdG8gPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRvLmZ1bGxQYXRoLAogICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksCiAgICAgIHVzZXJJZAogICAgfSkudGhlbigoKSA9PiB7CiAgICAgIGNvbnNvbGUubG9nKGBEYXRhIHNhdmVkIHRvIEZpcmVzdG9yZSBkYXRhYmFzZSBmb3Igc2Vzc2lvbjogJHtKU09OLnN0cmluZ2lmeShzZXNzaW9uSWQpfWApOwogICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgIH0pOwogIH0gLy8gTUFUUklYCiAgLy8gTGxhbWEgYSBsYSBmdW5jacOzbiBnZXRTZXNzaW9ucyB5IGNhbGN1bGF0ZVByb2JhYmlsaXRpZXMgc29sbyBzaSBsYXMgcHJvYmFiaWxpZGFkZXMgYcO6biBubyBzZSBoYW4gY2FsY3VsYWRvCgoKICBpZiAoIXByb2JhYmlsaXR5TWF0cml4KSB7CiAgICBnZXRTZXNzaW9ucyhmaXJlc3RvcmUsIGNvbGxlY3Rpb24sIGdldERvY3MsIG9yZGVyQnksIHF1ZXJ5LCB3aGVyZSwgdXNlcklkLCBzZXNzaW9uSWQpLnRoZW4obmF2aWdhdGlvbkFycmF5ID0+IHsKICAgICAgLy8gTGxhbWEgYSBjYWxjdWxhdGVQcm9iYWJpbGl0aWVzIHNvbG8gc2kgaGF5IGRvY3VtZW50b3MgZGUgbmF2ZWdhY2nDs24gZGlzcG9uaWJsZXMKICAgICAgY29uc29sZS5sb2cobmF2aWdhdGlvbkFycmF5Lmxlbmd0aCk7CgogICAgICBpZiAobmF2aWdhdGlvbkFycmF5Lmxlbmd0aCA+IDApIHsKICAgICAgICBwcm9iYWJpbGl0eU1hdHJpeCA9IGNhbGN1bGF0ZVByb2JhYmlsaXRpZXMobmF2aWdhdGlvbkFycmF5KTsgLy8gcHJvYmFiaWxpdGllc0NhbGN1bGF0ZWQgPSB0cnVlIC8vIEFjdHVhbGl6YSBsYSBiYW5kZXJhIHBhcmEgaW5kaWNhciBxdWUgbGFzIHByb2JhYmlsaWRhZGVzIHlhIHNlIGhhbiBjYWxjdWxhZG8KICAgICAgfQogICAgfSk7CiAgfQoKICBpZiAocHJvYmFiaWxpdHlNYXRyaXgpIHsKICAgIC8vIEd1YXJkYSBsb3MgcGF0aHMgZGUgbmF2ZWdhY2nDs24gZW4gbGEgdmFyaWFibGUgZ2xvYmFsIG5hdmlnYXRpb25QYXRocwogICAgaWYgKCFuYXZpZ2F0aW9uUGF0aHNbc2Vzc2lvbklkXSkgewogICAgICBuYXZpZ2F0aW9uUGF0aHNbc2Vzc2lvbklkXSA9IFtdOwogICAgfQoKICAgIG5hdmlnYXRpb25QYXRoc1tzZXNzaW9uSWRdLnB1c2godG8gPT09IG51bGwgfHwgdG8gPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRvLmZ1bGxQYXRoKTsgLy8gc2kgbGEgcnV0YSBhY3R1YWwgZXN0w6EgZW4gbGEgbWF0cml6IGRlIHByb2JhYmlsaWRhZGVzCgogICAgaWYgKHByb2JhYmlsaXR5TWF0cml4W3RvID09PSBudWxsIHx8IHRvID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0by5mdWxsUGF0aF0pIHsKICAgICAgLy8gTGxhbWEgYSBsYSBmdW5jacOzbiBpbXByb3ZlVXNlckV4cGVyaWVuY2UgY29uIGxhIG1hdHJpeiBkZSBwcm9iYWJpbGlkYWRlcywgbGEgcnV0YSBhY3R1YWwgeSBlbCBuw7ptZXJvIGRlIGNsaWNrcwogICAgICBjb25zdCBtb3N0UHJvYmFibGVSb3V0ZXMgPSBpbXByb3ZlVXNlckV4cGVyaWVuY2UocHJvYmFiaWxpdHlNYXRyaXgsIHRvID09PSBudWxsIHx8IHRvID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0by5mdWxsUGF0aCwgbmF2aWdhdGlvblBhdGhzW3Nlc3Npb25JZF0ubGVuZ3RoKTsgLy8gT2J0ZW5lbW9zIHZpc3RhcyBkaW7DoW1pY2FzCiAgICAgIC8vIGNvbnN0IGR5bmFtaWNWaWV3cyA9IHNob3dEeW5hbWljUm91dGVzKG1vc3RQcm9iYWJsZVJvdXRlcykKCiAgICAgIGNvbnN0IGR5bmFtaWNWaWV3cyA9IFtdOyAvLyBBcnJheSBkZSBib3RvbmVzIGRpbsOhbWljb3MgYSBtb3N0cmFyCiAgICAgIC8vIEzDs2dpY2EgcGFyYSBkZWNpZGlyIHNpIHNlIG11ZXN0cmFuIGxvcyBib3RvbmVzCgogICAgICBjb25zdCBzaG91bGRTaG93QnV0dG9uMSA9IG1vc3RQcm9iYWJsZVJvdXRlcy5pbmNsdWRlcygnL2NhcnJpdG8nKTsKICAgICAgY29uc3Qgc2hvdWxkU2hvd0J1dHRvbjIgPSBtb3N0UHJvYmFibGVSb3V0ZXMuaW5jbHVkZXMoJy9waXN0YVJlc2VydmFkYScpOwogICAgICBjb25zdCBzaG91bGRTaG93QnV0dG9uMyA9IG1vc3RQcm9iYWJsZVJvdXRlcy5pbmNsdWRlcygnL25vdGljaWFzL2V2ZW50b3MvZXZlbnRvUmVnaXN0cmFkbycpOwogICAgICBjb25zdCBzaG91bGRTaG93QnV0dG9uNCA9IG1vc3RQcm9iYWJsZVJvdXRlcy5pbmNsdWRlcygnL2RlcG9ydGVzL3BhZGVsL3RpZW5kYVBhZGVsJykgfHwgbW9zdFByb2JhYmxlUm91dGVzLmluY2x1ZGVzKCcvZGVwb3J0ZXMvcGFkZWwvcmVzZXJ2YXNQYWRlbCcpOwogICAgICBjb25zdCBzaG91bGRTaG93QnV0dG9uNSA9IG1vc3RQcm9iYWJsZVJvdXRlcy5pbmNsdWRlcygnL2RlcG9ydGVzL3RlbmlzL3RpZW5kYVRlbmlzJykgfHwgbW9zdFByb2JhYmxlUm91dGVzLmluY2x1ZGVzKCcvZGVwb3J0ZXMvdGVuaXMvcmVzZXJ2YXNUZW5pcycpOwogICAgICBjb25zdCBzaG91bGRTaG93QnV0dG9uNiA9IG1vc3RQcm9iYWJsZVJvdXRlcy5pbmNsdWRlcygnL2RlcG9ydGVzL2Z1dGJvbC90aWVuZGFGdXRib2wnKSB8fCBtb3N0UHJvYmFibGVSb3V0ZXMuaW5jbHVkZXMoJy9kZXBvcnRlcy9mdXRib2wvcmVzZXJ2YXNGdXRib2wnKTsKICAgICAgY29uc3Qgc2hvdWxkU2hvd0J1dHRvbjcgPSBtb3N0UHJvYmFibGVSb3V0ZXMuaW5jbHVkZXMoJy9kZXBvcnRlcy9iYWxvbmNlc3RvL3RpZW5kYUJhbG9uY2VzdG8nKSB8fCBtb3N0UHJvYmFibGVSb3V0ZXMuaW5jbHVkZXMoJy9kZXBvcnRlcy9iYWxvbmNlc3RvL3Jlc2VydmFzQmFsb25jZXN0bycpOwoKICAgICAgaWYgKHNob3VsZFNob3dCdXR0b24xKSB7CiAgICAgICAgZHluYW1pY1ZpZXdzLnB1c2goewogICAgICAgICAgdGl0bGU6ICdUaWVuZGEgUMOhZGVsJywKICAgICAgICAgIGljb246IG1kaVRlbm5pc0JhbGwsCiAgICAgICAgICB0bzogJy9kZXBvcnRlcy9wYWRlbC90aWVuZGFQYWRlbCcKICAgICAgICB9LCB7CiAgICAgICAgICB0aXRsZTogJ1RpZW5kYSBUZW5pcycsCiAgICAgICAgICBpY29uOiBtZGlUZW5uaXMsCiAgICAgICAgICB0bzogJy9kZXBvcnRlcy90ZW5pcy90aWVuZGFUZW5pcycKICAgICAgICB9LCB7CiAgICAgICAgICB0aXRsZTogJ1RpZW5kYSBGw7p0Ym9sJywKICAgICAgICAgIGljb246IG1kaVNvY2NlciwKICAgICAgICAgIHRvOiAnL2RlcG9ydGVzL2Z1dGJvbC90aWVuZGFGdXRib2wnCiAgICAgICAgfSwgewogICAgICAgICAgdGl0bGU6ICdUaWVuZGEgQmFsb25jZXN0bycsCiAgICAgICAgICBpY29uOiBtZGlCYXNrZXRiYWxsSG9vcE91dGxpbmUsCiAgICAgICAgICB0bzogJy9kZXBvcnRlcy9iYWxvbmNlc3RvL3RpZW5kYUJhbG9uY2VzdG8nCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGlmIChzaG91bGRTaG93QnV0dG9uMikgewogICAgICAgIGR5bmFtaWNWaWV3cy5wdXNoKHsKICAgICAgICAgIHRpdGxlOiAnUmVzZXJ2YXMgUMOhZGVsJywKICAgICAgICAgIGljb246IG1kaVRlbm5pc0JhbGwsCiAgICAgICAgICB0bzogJy9kZXBvcnRlcy9wYWRlbC9yZXNlcnZhc1BhZGVsJwogICAgICAgIH0sIHsKICAgICAgICAgIHRpdGxlOiAnUmVzZXJ2YXMgVGVuaXMnLAogICAgICAgICAgaWNvbjogbWRpVGVubmlzLAogICAgICAgICAgdG86ICcvZGVwb3J0ZXMvdGVuaXMvcmVzZXJ2YXNUZW5pcycKICAgICAgICB9LCB7CiAgICAgICAgICB0aXRsZTogJ1Jlc2VydmFzIEbDunRib2wnLAogICAgICAgICAgaWNvbjogbWRpU29jY2VyLAogICAgICAgICAgdG86ICcvZGVwb3J0ZXMvZnV0Ym9sL3Jlc2VydmFzRnV0Ym9sJwogICAgICAgIH0sIHsKICAgICAgICAgIHRpdGxlOiAnUmVzZXJ2YXMgQmFsb25jZXN0bycsCiAgICAgICAgICBpY29uOiBtZGlCYXNrZXRiYWxsLAogICAgICAgICAgdG86ICcvZGVwb3J0ZXMvYmFsb25jZXN0by9yZXNlcnZhc0JhbG9uY2VzdG8nCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGlmIChzaG91bGRTaG93QnV0dG9uMykgewogICAgICAgIGR5bmFtaWNWaWV3cy5wdXNoKHsKICAgICAgICAgIHRpdGxlOiAnwqHDmm5ldGUgYWwgZXZlbnRvIHF1ZSBwcmVmaWVyYXMhJywKICAgICAgICAgIGljb246IG1kaUFjY291bnRHcm91cCwKICAgICAgICAgIHRvOiAnL25vdGljaWFzL2V2ZW50b3MnCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGlmIChzaG91bGRTaG93QnV0dG9uNCkgewogICAgICAgIGR5bmFtaWNWaWV3cy5wdXNoKHsKICAgICAgICAgIHRpdGxlOiAnwqFBY2NlZGUgYSBQw6FkZWwhJywKICAgICAgICAgIGljb246IG1kaVRlbm5pc0JhbGwsCiAgICAgICAgICB0bzogJy9kZXBvcnRlcy9wYWRlbCcKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgaWYgKHNob3VsZFNob3dCdXR0b241KSB7CiAgICAgICAgZHluYW1pY1ZpZXdzLnB1c2goewogICAgICAgICAgdGl0bGU6ICfCoUFjY2VkZSBhIFRlbmlzIScsCiAgICAgICAgICBpY29uOiBtZGlUZW5uaXMsCiAgICAgICAgICB0bzogJy9kZXBvcnRlcy90ZW5pcycKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgaWYgKHNob3VsZFNob3dCdXR0b242KSB7CiAgICAgICAgZHluYW1pY1ZpZXdzLnB1c2goewogICAgICAgICAgdGl0bGU6ICfCoUFjY2VkZSBhIEbDunRib2whJywKICAgICAgICAgIGljb246IG1kaVNvY2NlciwKICAgICAgICAgIHRvOiAnL2RlcG9ydGVzL2Z1dGJvbCcKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgaWYgKHNob3VsZFNob3dCdXR0b243KSB7CiAgICAgICAgZHluYW1pY1ZpZXdzLnB1c2goewogICAgICAgICAgdGl0bGU6ICfCoUFjY2VkZSBhIEJhbG9uY2VzdG8hJywKICAgICAgICAgIGljb246IG1kaUJhc2tldGJhbGwsCiAgICAgICAgICB0bzogJy9kZXBvcnRlcy9iYWxvbmNlc3RvJwogICAgICAgIH0pOwogICAgICB9IC8vIENvbXByb2JhY2lvbiB2aXN0YXMgZGluw6FtaWNhcwoKCiAgICAgIGNvbnNvbGUubG9nKCdkeW5hbWljVmlld3M6JywgZHluYW1pY1ZpZXdzLm1hcCh2aWV3ID0+IHZpZXcudG8pKTsKICAgICAgc3RvcmUuY29tbWl0KCdhcHAvc2V0RHluYW1pY1ZpZXdzJywgZHluYW1pY1ZpZXdzKTsgLy8gbGFzIHBhc28gYWwgc3RvcmUgcGFyYSBxdWUgbGEgYXBwIGxhcyBtdWVzdHJlCiAgICAgIC8vIENvbnRyb2wgZGUgYWNjZXNvCgogICAgICBtb3N0UHJvYmFibGVSb3V0ZXNBcnJheS5wdXNoKC4uLm1vc3RQcm9iYWJsZVJvdXRlcyk7CiAgICAgIGNvbnNvbGUubG9nKCdtb3N0UHJvYmFibGVSb3V0ZXNBcnJheTonLCBtb3N0UHJvYmFibGVSb3V0ZXNBcnJheSk7CiAgICAgIGFjY2Vzc0NvbnRyb2wobW9zdFByb2JhYmxlUm91dGVzQXJyYXksIHRvID09PSBudWxsIHx8IHRvID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0by5mdWxsUGF0aCwgbmF2aWdhdGlvblBhdGhzW3Nlc3Npb25JZF0ubGVuZ3RoLCBuZXh0KTsKICAgIH0KICB9CgogIHJldHVybiBuZXh0KCk7Cn0pOwpleHBvcnQgZGVmYXVsdCByb3V0ZXI7"},{"version":3,"names":["canNavigate","store","mdiAccountGroup","mdiBasketball","mdiBasketballHoopOutline","mdiSoccer","mdiTennis","mdiTennisBall","Vue","VueRouter","addDoc","collection","firestore","getDocs","orderBy","query","where","accessControl","calculateProbabilities","getSessions","improveUserExperience","myViews","use","routes","path","redirect","to","userData","JSON","parse","localStorage","getItem","userRole","role","name","component","meta","layout","resource","redirectIfLoggedIn","router","mode","base","process","env","BASE_URL","scrollBehavior","x","y","probabilityMatrix","mostProbableRoutesArray","navigationPaths","beforeEach","_","next","isLoggedIn","console","log","userId","user","uid","sessionId","sessionCollection3","navigation","fullPath","timestamp","Date","now","then","stringify","catch","error","navigationArray","length","push","mostProbableRoutes","dynamicViews","shouldShowButton1","includes","shouldShowButton2","shouldShowButton3","shouldShowButton4","shouldShowButton5","shouldShowButton6","shouldShowButton7","title","icon","map","view","commit"],"sources":["/Users/martadom/Desktop/TFM/test/src/router/index.js"],"sourcesContent":["import { canNavigate } from '@/plugins/acl/routeProtection'\nimport store from '@/store'\n\n// import axios from 'axios' // SERVIDOR\nimport { mdiAccountGroup, mdiBasketball, mdiBasketballHoopOutline, mdiSoccer, mdiTennis, mdiTennisBall } from '@mdi/js'\nimport Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport { addDoc, collection, firestore, getDocs, orderBy, query, where } from '../firebase'\n\n// import { accessControl, calculateProbabilities, getSessions, improveUserExperience } from '../_helpers'\nimport { accessControl, calculateProbabilities, getSessions, improveUserExperience } from 'user-identity-tracker'\n\nimport myViews from './myViews'\n\nVue.use(VueRouter)\n\nconst routes = [\n  // ? We are redirecting to different pages based on role.\n  // NOTE: Role is just for UI purposes. ACL is based on abilities.\n  {\n    path: '/',\n    redirect: to => {\n      const userData = JSON.parse(localStorage.getItem('userData'))\n      const userRole = userData && userData.role ? userData.role : null\n\n      if (userRole === 'admin') return { name: 'homeView' }\n\n      return { name: 'auth-login', query: to.query }\n    },\n  },\n  {\n    path: '/error-404',\n    name: 'error-404',\n    component: () => import('@/views/Error404.vue'),\n    meta: {\n      layout: 'blank',\n      resource: 'Public',\n    },\n  },\n  {\n    path: '/login',\n    name: 'auth-login',\n    component: () => import('@/views/Login.vue'),\n    meta: {\n      layout: 'blank',\n      resource: 'Public',\n      redirectIfLoggedIn: true,\n    },\n  },\n\n  {\n    path: '/register',\n    name: 'auth-register',\n    component: () => import('@/views/Register.vue'),\n    meta: {\n      layout: 'blank',\n      resource: 'Public',\n      redirectIfLoggedIn: true,\n    },\n  },\n  {\n    path: '/forgot-password',\n    name: 'auth-forgot-password',\n    component: () => import('@/views/ForgotPassword.vue'),\n    meta: {\n      layout: 'blank',\n      resource: 'Public',\n      redirectIfLoggedIn: true,\n    },\n  },\n  ...myViews,\n\n  {\n    path: '*',\n    redirect: 'error-404',\n  },\n]\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes,\n  scrollBehavior() {\n    return { x: 0, y: 0 }\n  },\n})\n\nlet probabilityMatrix = null // Declarar la variable probabilityMatrix\nconst mostProbableRoutesArray = [] // Declara y inicializa el array para las rutas más probables\n\n// Variable global para almacenar los paths de navegación\nconst navigationPaths = {}\n\n// ? Router Before Each hook: https://router.vuejs.org/guide/advanced/navigation-guards.html\nrouter.beforeEach(async (to, _, next) => {\n  // lo he envuelvo en asyc para usar el await\n  const isLoggedIn = localStorage.getItem('userData')\n\n  console.log(isLoggedIn)\n\n  if (!canNavigate(to)) {\n    // Redirect to login if not logged in\n    if (!isLoggedIn) return next({ name: 'auth-login' })\n  }\n\n  const userId = JSON.parse(localStorage.getItem('userData'))?.user?.uid\n  const sessionId = JSON.parse(localStorage.getItem('sessionId'))\n\n  // Redirect if logged in\n  if (to.meta.redirectIfLoggedIn && isLoggedIn) {\n    next('/home')\n  }\n\n  if (userId && sessionId) {\n    //   const sessionCollection = collection(firestore, `users/${userId}/${sessionId}`)\n\n    //   // console.log('sessionCollection:', sessionCollection)\n\n    //   // Save data to Firestore database\n    //   addDoc(sessionCollection, {\n    //     sessionId,\n    //     navigation: to?.fullPath,\n    //     timestamp: Date.now(),\n    //     userId,\n    //   })\n    //     .then(() => {\n    //       console.log(`Data saved to Firestore database for session: ${JSON.stringify(sessionId)}`)\n    //     })\n    //     .catch(error => {\n    //       console.error(error)\n    //     })\n\n    //   // NUEVA ESTRUCTURA DE DATOS\n    //   // coleccion aparte llamada sessions\n    // const sessionCollection2 = collection(firestore, 'sessions')\n\n    // // Save data to Firestore database\n    // addDoc(sessionCollection2, {\n    //   sessionId,\n    //   navigation: to?.fullPath,\n    //   timestamp: Date.now(),\n    //   userId,\n    // })\n    //   .then(() => {\n    //     console.log(`Data saved to Firestore database for session: ${JSON.stringify(sessionId)}`)\n    //   })\n    //   .catch(error => {\n    //     console.error(error)\n    //   })\n\n    // PRUEBAS: Guardado DE DATOS\n    const sessionCollection3 = collection(firestore, 'sessionsTest')\n\n    // Save data to Firestore database\n    addDoc(sessionCollection3, {\n      sessionId,\n      navigation: to?.fullPath,\n      timestamp: Date.now(),\n      userId,\n    })\n      .then(() => {\n        console.log(`Data saved to Firestore database for session: ${JSON.stringify(sessionId)}`)\n      })\n      .catch(error => {\n        console.error(error)\n      })\n  }\n\n  // MATRIX\n\n  // Llama a la función getSessions y calculateProbabilities solo si las probabilidades aún no se han calculado\n  if (!probabilityMatrix) {\n    getSessions(firestore, collection, getDocs, orderBy, query, where, userId, sessionId).then(navigationArray => {\n      // Llama a calculateProbabilities solo si hay documentos de navegación disponibles\n      console.log(navigationArray.length)\n      if (navigationArray.length > 0) {\n        probabilityMatrix = calculateProbabilities(navigationArray)\n\n        // probabilitiesCalculated = true // Actualiza la bandera para indicar que las probabilidades ya se han calculado\n      }\n    })\n  }\n  if (probabilityMatrix) {\n    // Guarda los paths de navegación en la variable global navigationPaths\n    if (!navigationPaths[sessionId]) {\n      navigationPaths[sessionId] = []\n    }\n    navigationPaths[sessionId].push(to?.fullPath)\n\n    // si la ruta actual está en la matriz de probabilidades\n    if (probabilityMatrix[to?.fullPath]) {\n      // Llama a la función improveUserExperience con la matriz de probabilidades, la ruta actual y el número de clicks\n      const mostProbableRoutes = improveUserExperience(\n        probabilityMatrix,\n        to?.fullPath,\n        navigationPaths[sessionId].length,\n      )\n\n      // Obtenemos vistas dinámicas\n      // const dynamicViews = showDynamicRoutes(mostProbableRoutes)\n      const dynamicViews = [] // Array de botones dinámicos a mostrar\n\n      // Lógica para decidir si se muestran los botones\n      const shouldShowButton1 = mostProbableRoutes.includes('/carrito')\n      const shouldShowButton2 = mostProbableRoutes.includes('/pistaReservada')\n      const shouldShowButton3 = mostProbableRoutes.includes('/noticias/eventos/eventoRegistrado')\n      const shouldShowButton4 =\n        mostProbableRoutes.includes('/deportes/padel/tiendaPadel') ||\n        mostProbableRoutes.includes('/deportes/padel/reservasPadel')\n      const shouldShowButton5 =\n        mostProbableRoutes.includes('/deportes/tenis/tiendaTenis') ||\n        mostProbableRoutes.includes('/deportes/tenis/reservasTenis')\n      const shouldShowButton6 =\n        mostProbableRoutes.includes('/deportes/futbol/tiendaFutbol') ||\n        mostProbableRoutes.includes('/deportes/futbol/reservasFutbol')\n      const shouldShowButton7 =\n        mostProbableRoutes.includes('/deportes/baloncesto/tiendaBaloncesto') ||\n        mostProbableRoutes.includes('/deportes/baloncesto/reservasBaloncesto')\n\n      if (shouldShowButton1) {\n        dynamicViews.push(\n          {\n            title: 'Tienda Pádel',\n            icon: mdiTennisBall,\n            to: '/deportes/padel/tiendaPadel',\n          },\n          {\n            title: 'Tienda Tenis',\n            icon: mdiTennis,\n            to: '/deportes/tenis/tiendaTenis',\n          },\n          {\n            title: 'Tienda Fútbol',\n            icon: mdiSoccer,\n            to: '/deportes/futbol/tiendaFutbol',\n          },\n          {\n            title: 'Tienda Baloncesto',\n            icon: mdiBasketballHoopOutline,\n            to: '/deportes/baloncesto/tiendaBaloncesto',\n          },\n        )\n      }\n\n      if (shouldShowButton2) {\n        dynamicViews.push(\n          {\n            title: 'Reservas Pádel',\n            icon: mdiTennisBall,\n            to: '/deportes/padel/reservasPadel',\n          },\n          {\n            title: 'Reservas Tenis',\n            icon: mdiTennis,\n            to: '/deportes/tenis/reservasTenis',\n          },\n          {\n            title: 'Reservas Fútbol',\n            icon: mdiSoccer,\n            to: '/deportes/futbol/reservasFutbol',\n          },\n          {\n            title: 'Reservas Baloncesto',\n            icon: mdiBasketball,\n            to: '/deportes/baloncesto/reservasBaloncesto',\n          },\n        )\n      }\n\n      if (shouldShowButton3) {\n        dynamicViews.push({\n          title: '¡Únete al evento que prefieras!',\n          icon: mdiAccountGroup,\n          to: '/noticias/eventos',\n        })\n      }\n\n      if (shouldShowButton4) {\n        dynamicViews.push({\n          title: '¡Accede a Pádel!',\n          icon: mdiTennisBall,\n          to: '/deportes/padel',\n        })\n      }\n\n      if (shouldShowButton5) {\n        dynamicViews.push({\n          title: '¡Accede a Tenis!',\n          icon: mdiTennis,\n          to: '/deportes/tenis',\n        })\n      }\n\n      if (shouldShowButton6) {\n        dynamicViews.push({\n          title: '¡Accede a Fútbol!',\n          icon: mdiSoccer,\n          to: '/deportes/futbol',\n        })\n      }\n\n      if (shouldShowButton7) {\n        dynamicViews.push({\n          title: '¡Accede a Baloncesto!',\n          icon: mdiBasketball,\n          to: '/deportes/baloncesto',\n        })\n      }\n\n      // Comprobacion vistas dinámicas\n      console.log(\n        'dynamicViews:',\n        dynamicViews.map(view => view.to),\n      )\n      store.commit('app/setDynamicViews', dynamicViews) // las paso al store para que la app las muestre\n\n      // Control de acceso\n      mostProbableRoutesArray.push(...mostProbableRoutes)\n      console.log('mostProbableRoutesArray:', mostProbableRoutesArray)\n      accessControl(mostProbableRoutesArray, to?.fullPath, navigationPaths[sessionId].length, next)\n    }\n  }\n\n  return next()\n})\n\nexport default router\n"],"mappings":"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"}]}