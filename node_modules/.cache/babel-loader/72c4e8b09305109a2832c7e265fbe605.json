{"remainingRequest":"/Users/martadom/Desktop/TFM/tfm-marta-npm/node_modules/babel-loader/lib/index.js!/Users/martadom/Desktop/TFM/tfm-marta-npm/src/utils.js","dependencies":[{"path":"/Users/martadom/Desktop/TFM/tfm-marta-npm/src/utils.js","mtime":1692718420677},{"path":"/Users/martadom/Desktop/TFM/tfm-marta-npm/babel.config.js","mtime":1689868462000},{"path":"/Users/martadom/Desktop/TFM/tfm-marta-npm/node_modules/cache-loader/dist/cjs.js","mtime":1688895642525},{"path":"/Users/martadom/Desktop/TFM/tfm-marta-npm/node_modules/babel-loader/lib/index.js","mtime":1688895642501}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgYWRkRG9jLCBjb2xsZWN0aW9uLCBmaXJlc3RvcmUgfSBmcm9tICcuL2ZpcmViYXNlJzsKaW1wb3J0IHJvdXRlciBmcm9tICcuL3JvdXRlcic7Cgpjb25zdCBzYXZlRXZlbnQgPSAoewogIGV2ZW50VHlwZQp9KSA9PiB7CiAgdmFyIF9KU09OJHBhcnNlLCBfSlNPTiRwYXJzZSR1c2VyOwoKICBjb25zdCB1c2VySWQgPSAoX0pTT04kcGFyc2UgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyRGF0YScpKSkgPT09IG51bGwgfHwgX0pTT04kcGFyc2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfSlNPTiRwYXJzZSR1c2VyID0gX0pTT04kcGFyc2UudXNlcikgPT09IG51bGwgfHwgX0pTT04kcGFyc2UkdXNlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogX0pTT04kcGFyc2UkdXNlci51aWQ7CiAgY29uc3Qgc2Vzc2lvbklkID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc2Vzc2lvbklkJykpOwogIGNvbnN0IHNlc3Npb25Db2xsZWN0aW9uID0gY29sbGVjdGlvbihmaXJlc3RvcmUsIGB1c2Vycy8ke3VzZXJJZH0vJHtzZXNzaW9uSWR9YCk7CiAgY29uc3QgcGF0aCA9IHJvdXRlci5jdXJyZW50Um91dGUuZnVsbFBhdGg7IC8vIFNhdmUgZGF0YSB0byBGaXJlc3RvcmUgZGF0YWJhc2UKCiAgYWRkRG9jKHNlc3Npb25Db2xsZWN0aW9uLCB7CiAgICBzZXNzaW9uSWQsCiAgICB0aW1lc3RhbXA6IERhdGUubm93KCksCiAgICBuYXZpZ2F0aW9uOiBwYXRoLAogICAgdXNlcklkLAogICAgZXZlbnRUeXBlCiAgfSkudGhlbigoKSA9PiB7CiAgICBjb25zb2xlLmxvZyhgRGF0YSBzYXZlZCB0byBGaXJlc3RvcmUgZGF0YWJhc2UgZm9yIHNlc3Npb246ICR7SlNPTi5zdHJpbmdpZnkoc2Vzc2lvbklkKX1gKTsKICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICB9KTsKfTsKCmV4cG9ydCB7IHNhdmVFdmVudCB9Ow=="},{"version":3,"names":["addDoc","collection","firestore","router","saveEvent","eventType","userId","JSON","parse","localStorage","getItem","user","uid","sessionId","sessionCollection","path","currentRoute","fullPath","timestamp","Date","now","navigation","then","console","log","stringify","catch","error"],"sources":["/Users/martadom/Desktop/TFM/tfm-marta-npm/src/utils.js"],"sourcesContent":["import { addDoc, collection, firestore } from './firebase'\n\nimport router from './router'\n\nconst saveEvent = ({ eventType }) => {\n  const userId = JSON.parse(localStorage.getItem('userData'))?.user?.uid\n  const sessionId = JSON.parse(localStorage.getItem('sessionId'))\n  const sessionCollection = collection(firestore, `users/${userId}/${sessionId}`)\n  const path = router.currentRoute.fullPath\n\n  // Save data to Firestore database\n  addDoc(sessionCollection, {\n    sessionId,\n    timestamp: Date.now(),\n    navigation: path,\n    userId,\n    eventType,\n  })\n    .then(() => {\n      console.log(`Data saved to Firestore database for session: ${JSON.stringify(sessionId)}`)\n    })\n    .catch(error => {\n      console.error(error)\n    })\n}\n\nexport { saveEvent }\n"],"mappings":"AAAA,SAASA,MAAT,EAAiBC,UAAjB,EAA6BC,SAA7B,QAA8C,YAA9C;AAEA,OAAOC,MAAP,MAAmB,UAAnB;;AAEA,MAAMC,SAAS,GAAG,CAAC;EAAEC;AAAF,CAAD,KAAmB;EAAA;;EACnC,MAAMC,MAAM,kBAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAAH,oEAAG,YAA8CC,IAAjD,qDAAG,iBAAoDC,GAAnE;EACA,MAAMC,SAAS,GAAGN,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,CAAlB;EACA,MAAMI,iBAAiB,GAAGb,UAAU,CAACC,SAAD,EAAa,SAAQI,MAAO,IAAGO,SAAU,EAAzC,CAApC;EACA,MAAME,IAAI,GAAGZ,MAAM,CAACa,YAAP,CAAoBC,QAAjC,CAJmC,CAMnC;;EACAjB,MAAM,CAACc,iBAAD,EAAoB;IACxBD,SADwB;IAExBK,SAAS,EAAEC,IAAI,CAACC,GAAL,EAFa;IAGxBC,UAAU,EAAEN,IAHY;IAIxBT,MAJwB;IAKxBD;EALwB,CAApB,CAAN,CAOGiB,IAPH,CAOQ,MAAM;IACVC,OAAO,CAACC,GAAR,CAAa,iDAAgDjB,IAAI,CAACkB,SAAL,CAAeZ,SAAf,CAA0B,EAAvF;EACD,CATH,EAUGa,KAVH,CAUSC,KAAK,IAAI;IACdJ,OAAO,CAACI,KAAR,CAAcA,KAAd;EACD,CAZH;AAaD,CApBD;;AAsBA,SAASvB,SAAT"}]}