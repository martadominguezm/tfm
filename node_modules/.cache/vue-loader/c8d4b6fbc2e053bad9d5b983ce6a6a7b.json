{"remainingRequest":"/Users/martadom/Desktop/TFM/FINAL/tfm/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/martadom/Desktop/TFM/FINAL/tfm/src/@core/layouts/components/app-bar/AppBarUserMenu.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/martadom/Desktop/TFM/FINAL/tfm/src/@core/layouts/components/app-bar/AppBarUserMenu.vue","mtime":1689868462000},{"path":"/Users/martadom/Desktop/TFM/FINAL/tfm/node_modules/cache-loader/dist/cjs.js","mtime":1688895642525},{"path":"/Users/martadom/Desktop/TFM/FINAL/tfm/node_modules/babel-loader/lib/index.js","mtime":1688895642501},{"path":"/Users/martadom/Desktop/TFM/FINAL/tfm/node_modules/cache-loader/dist/cjs.js","mtime":1688895642525},{"path":"/Users/martadom/Desktop/TFM/FINAL/tfm/node_modules/vue-loader/lib/index.js","mtime":1688895654604}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGluaXRpYWxBYmlsaXR5IH0gZnJvbSAnQC9wbHVnaW5zL2FjbC9jb25maWcnCmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ0Bjb3JlL3V0aWxzJwppbXBvcnQgewogIG1kaUFjY291bnRPdXRsaW5lLAogIG1kaUNoYXRPdXRsaW5lLAogIG1kaUNoZWNrYm94TWFya2VkT3V0bGluZSwKICBtZGlDb2dPdXRsaW5lLAogIG1kaUN1cnJlbmN5VXNkLAogIG1kaUVtYWlsT3V0bGluZSwKICBtZGlIZWxwQ2lyY2xlT3V0bGluZSwKICBtZGlMb2dvdXRWYXJpYW50LAp9IGZyb20gJ0BtZGkvanMnCmltcG9ydCB7IGdldEN1cnJlbnRJbnN0YW5jZSB9IGZyb20gJ0B2dWUvY29tcG9zaXRpb24tYXBpJwoKZXhwb3J0IGRlZmF1bHQgewogIHNldHVwKCkgewogICAgY29uc3Qgdm0gPSBnZXRDdXJyZW50SW5zdGFuY2UoKS5wcm94eQogICAgY29uc3QgeyByb3V0ZXIgfSA9IHVzZVJvdXRlcigpCiAgICBjb25zdCB1c2VyRGF0YSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJEYXRhJykpCgogICAgY29uc3QgbG9nb3V0VXNlciA9ICgpID0+IHsKICAgICAgLy8gUmVtb3ZlIHVzZXJEYXRhIGZyb20gbG9jYWxTdG9yYWdlCiAgICAgIC8vID8gV2UganVzdCByZW1vdmVkIHRva2VuIGZyb20gbG9jYWxTdG9yYWdlLiBJZiB5b3UgbGlrZSwgeW91IGNhbiBhbHNvIG1ha2UgQVBJIGNhbGwgdG8gYmFja2VuZCB0byBibGFja2xpc3QgdXNlZCB0b2tlbgogICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnYWNjZXNzVG9rZW4nKQogICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnc2Vzc2lvbklkJykKCiAgICAgIC8vIFJlbW92ZSB1c2VyRGF0YSAmIEFiaWxpdHkgZnJvbSBsb2NhbFN0b3JhZ2UKICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3VzZXJEYXRhJykKICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3VzZXJBYmlsaXR5JykKCiAgICAgIC8vIFJlc2V0IGFiaWxpdHkKICAgICAgdm0uJGFiaWxpdHkudXBkYXRlKGluaXRpYWxBYmlsaXR5KQoKICAgICAgLy8gUmVkaXJlY3QgdG8gbG9naW4gcGFnZQogICAgICByb3V0ZXIucHVzaCh7IG5hbWU6ICdhdXRoLWxvZ2luJyB9KQoKICAgICAgLy8gVE8gRE9PT09PT09PISEhISBDSEFOR0UKICAgICAgbG9jYXRpb24ucmVsb2FkKCkKICAgIH0KCiAgICByZXR1cm4gewogICAgICBsb2dvdXRVc2VyLAogICAgICB1c2VyRGF0YSwKCiAgICAgIGljb25zOiB7CiAgICAgICAgbWRpQWNjb3VudE91dGxpbmUsCiAgICAgICAgbWRpRW1haWxPdXRsaW5lLAogICAgICAgIG1kaUNoZWNrYm94TWFya2VkT3V0bGluZSwKICAgICAgICBtZGlDaGF0T3V0bGluZSwKICAgICAgICBtZGlDb2dPdXRsaW5lLAogICAgICAgIG1kaUN1cnJlbmN5VXNkLAogICAgICAgIG1kaUhlbHBDaXJjbGVPdXRsaW5lLAogICAgICAgIG1kaUxvZ291dFZhcmlhbnQsCiAgICAgIH0sCiAgICB9CiAgfSwKfQo="},{"version":3,"sources":["AppBarUserMenu.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AppBarUserMenu.vue","sourceRoot":"src/@core/layouts/components/app-bar","sourcesContent":["<template>\n  <v-menu\n    offset-y\n    left\n    nudge-bottom=\"14\"\n    min-width=\"280\"\n    content-class=\"user-profile-menu-content\"\n  >\n    <template v-slot:activator=\"{ on, attrs }\">\n      <v-badge\n        id=\"dropdown_button\"\n        bottom\n        color=\"success\"\n        overlap\n        offset-x=\"12\"\n        offset-y=\"12\"\n        class=\"ms-4\"\n        dot\n      >\n        <v-avatar\n          id=\"dropdown_button\"\n          size=\"44px\"\n          v-bind=\"attrs\"\n          color=\"primary\"\n          class=\"v-avatar-light-bg primary--text\"\n          v-on=\"on\"\n        >\n          <v-img\n            v-if=\"userData.avatar\"\n            :src=\"userData.avatar\"\n          ></v-img>\n          <v-icon\n            v-else\n            color=\"primary\"\n            class=\"d-flex align-center justify-center\"\n            size=\"28\"\n          >\n            {{ icons.mdiAccountOutline }}\n          </v-icon>\n        </v-avatar>\n      </v-badge>\n    </template>\n    <v-list>\n      <div class=\"pb-3 pt-2\">\n        <v-badge\n\n          bottom\n          color=\"success\"\n          overlap\n          offset-x=\"12\"\n          offset-y=\"12\"\n          class=\"ms-4\"\n          dot\n        >\n          <v-avatar\n            size=\"40px\"\n            color=\"primary\"\n            class=\"v-avatar-light-bg primary--text\"\n          >\n            <v-img\n              v-if=\"userData.avatar\"\n              src=\"@/assets/images/avatars/1.png\"\n            ></v-img>\n            <v-icon\n              v-else\n              color=\"primary\"\n              size=\"28\"\n            >\n              {{ icons.mdiAccountOutline }}\n            </v-icon>\n          </v-avatar>\n        </v-badge>\n        <div\n          class=\"d-inline-flex flex-column justify-center ms-3\"\n          style=\"vertical-align:middle\"\n        >\n          <span class=\"text--primary font-weight-semibold mb-n1\">\n            {{ userData.user.email || '' }}\n          </span>\n          <small class=\"text--disabled text-capitalize\">{{ userData.role }}</small>\n        </div>\n      </div>\n\n      <!-- <v-divider></v-divider> -->\n\n      <!-- Profile -->\n      <!-- <v-list-item :to=\"{ name: 'apps-user-view', params: { id: 21 } }\">\n        <v-list-item-icon class=\"me-2\">\n          <v-icon size=\"22\">\n            {{ icons.mdiAccountOutline }}\n          </v-icon>\n        </v-list-item-icon>\n        <v-list-item-content>\n          <v-list-item-title>Profile</v-list-item-title>\n        </v-list-item-content>\n      </v-list-item>\n\n      <v-list-item :to=\"{ name: 'apps-email' }\">\n        <v-list-item-icon class=\"me-2\">\n          <v-icon size=\"22\">\n            {{ icons.mdiEmailOutline }}\n          </v-icon>\n        </v-list-item-icon>\n        <v-list-item-content>\n          <v-list-item-title>Inbox</v-list-item-title>\n        </v-list-item-content>\n      </v-list-item>\n\n      <v-list-item :to=\"{ name: 'apps-chat' }\">\n        <v-list-item-icon class=\"me-2\">\n          <v-icon size=\"22\">\n            {{ icons.mdiChatOutline }}\n          </v-icon>\n        </v-list-item-icon>\n        <v-list-item-content>\n          <v-list-item-title>Chat</v-list-item-title>\n        </v-list-item-content>\n\n        <v-list-item-action>\n          <v-badge\n            inline\n            color=\"error\"\n            content=\"2\"\n          >\n          </v-badge>\n        </v-list-item-action>\n      </v-list-item>\n\n      <v-divider class=\"my-2\"></v-divider>\n\n      <v-list-item :to=\"{ name: 'page-account-settings' }\">\n        <v-list-item-icon class=\"me-2\">\n          <v-icon size=\"22\">\n            {{ icons.mdiCogOutline }}\n          </v-icon>\n        </v-list-item-icon>\n        <v-list-item-content>\n          <v-list-item-title>Settings</v-list-item-title>\n        </v-list-item-content>\n      </v-list-item>\n\n      <v-list-item :to=\"{ name: 'page-pricing' }\">\n        <v-list-item-icon class=\"me-2\">\n          <v-icon size=\"22\">\n            {{ icons.mdiCurrencyUsd }}\n          </v-icon>\n        </v-list-item-icon>\n        <v-list-item-content>\n          <v-list-item-title>Pricing</v-list-item-title>\n        </v-list-item-content>\n      </v-list-item>\n\n      <v-list-item :to=\"{ name: 'page-faq' }\">\n        <v-list-item-icon class=\"me-2\">\n          <v-icon size=\"22\">\n            {{ icons.mdiHelpCircleOutline }}\n          </v-icon>\n        </v-list-item-icon>\n        <v-list-item-content>\n          <v-list-item-title>FAQ</v-list-item-title>\n        </v-list-item-content>\n      </v-list-item>\n\n      <v-divider class=\"my-2\"></v-divider> -->\n\n      <!-- Logout -->\n      <v-list-item\n        id=\"button_logout\"\n        @click=\"logoutUser\"\n      >\n        <v-list-item-icon class=\"me-2\">\n          <v-icon size=\"22\">\n            {{ icons.mdiLogoutVariant }}\n          </v-icon>\n        </v-list-item-icon>\n        <v-list-item-content>\n          <v-list-item-title>Logout</v-list-item-title>\n        </v-list-item-content>\n      </v-list-item>\n    </v-list>\n  </v-menu>\n</template>\n\n<script>\nimport { initialAbility } from '@/plugins/acl/config'\nimport { useRouter } from '@core/utils'\nimport {\n  mdiAccountOutline,\n  mdiChatOutline,\n  mdiCheckboxMarkedOutline,\n  mdiCogOutline,\n  mdiCurrencyUsd,\n  mdiEmailOutline,\n  mdiHelpCircleOutline,\n  mdiLogoutVariant,\n} from '@mdi/js'\nimport { getCurrentInstance } from '@vue/composition-api'\n\nexport default {\n  setup() {\n    const vm = getCurrentInstance().proxy\n    const { router } = useRouter()\n    const userData = JSON.parse(localStorage.getItem('userData'))\n\n    const logoutUser = () => {\n      // Remove userData from localStorage\n      // ? We just removed token from localStorage. If you like, you can also make API call to backend to blacklist used token\n      localStorage.removeItem('accessToken')\n      localStorage.removeItem('sessionId')\n\n      // Remove userData & Ability from localStorage\n      localStorage.removeItem('userData')\n      localStorage.removeItem('userAbility')\n\n      // Reset ability\n      vm.$ability.update(initialAbility)\n\n      // Redirect to login page\n      router.push({ name: 'auth-login' })\n\n      // TO DOOOOOOOO!!!! CHANGE\n      location.reload()\n    }\n\n    return {\n      logoutUser,\n      userData,\n\n      icons: {\n        mdiAccountOutline,\n        mdiEmailOutline,\n        mdiCheckboxMarkedOutline,\n        mdiChatOutline,\n        mdiCogOutline,\n        mdiCurrencyUsd,\n        mdiHelpCircleOutline,\n        mdiLogoutVariant,\n      },\n    }\n  },\n}\n</script>\n\n<style lang=\"scss\">\n.user-profile-menu-content {\n  .v-list-item {\n    min-height: 2.5rem !important;\n  }\n}\n</style>\n"]}]}