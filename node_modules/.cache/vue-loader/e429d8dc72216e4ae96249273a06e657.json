{"remainingRequest":"/Users/martadom/Desktop/TFM/test/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/martadom/Desktop/TFM/test/src/@core/layouts/components/horizontal-nav-menu/components/horizontal-nav-menu-group/HorizontalNavMenuGroup.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/martadom/Desktop/TFM/test/src/@core/layouts/components/horizontal-nav-menu/components/horizontal-nav-menu-group/HorizontalNavMenuGroup.vue","mtime":1689868462000},{"path":"/Users/martadom/Desktop/TFM/test/node_modules/cache-loader/dist/cjs.js","mtime":1688895642525},{"path":"/Users/martadom/Desktop/TFM/test/node_modules/babel-loader/lib/index.js","mtime":1688895642501},{"path":"/Users/martadom/Desktop/TFM/test/node_modules/cache-loader/dist/cjs.js","mtime":1688895642525},{"path":"/Users/martadom/Desktop/TFM/test/node_modules/vue-loader/lib/index.js","mtime":1688895654604}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBIb3Jpem9udGFsTmF2TWVudUxpbmsgZnJvbSAnQGNvcmUvbGF5b3V0cy9jb21wb25lbnRzL2hvcml6b250YWwtbmF2LW1lbnUvY29tcG9uZW50cy9ob3Jpem9udGFsLW5hdi1tZW51LWxpbmsvSG9yaXpvbnRhbE5hdk1lbnVMaW5rLnZ1ZScKCi8vIGltcG9ydCB1c2VIb3Jpem9udGFsTmF2TWVudSBmcm9tICdAY29yZS9sYXlvdXRzL2NvbXBvc2FibGUvaG9yaXpvbnRhbC1uYXYvdXNlSG9yaXpvbnRhbE5hdk1lbnUnCgovLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgb2JqZWN0LWN1cmx5LW5ld2xpbmUKaW1wb3J0IHsgcmVmLCBjb21wdXRlZCwgaW5qZWN0LCB3YXRjaEVmZmVjdCwgbmV4dFRpY2ssIHdhdGNoIH0gZnJvbSAnQHZ1ZS9jb21wb3NpdGlvbi1hcGknCmltcG9ydCB7IG1kaUNoZXZyb25SaWdodCB9IGZyb20gJ0BtZGkvanMnCi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBvYmplY3QtY3VybHktbmV3bGluZQppbXBvcnQgeyB1c2VNb3VzZUluRWxlbWVudCwgdW50aWwsIHVzZVdpbmRvd1NpemUsIGludm9rZSB9IGZyb20gJ0B2dWV1c2UvY29yZScKaW1wb3J0IHsgdXNlVXRpbHMgfSBmcm9tICdAY29yZS9saWJzL2kxOG4nCmltcG9ydCB7IHVzZVV0aWxzIGFzIHVzZUFjbFV0aWxzIH0gZnJvbSAnQGNvcmUvbGlicy9hY2wnCmltcG9ydCB0aGVtZUNvbmZpZyBmcm9tICdAdGhlbWVDb25maWcnCmltcG9ydCB1c2VIb3Jpem9udGFsTmF2TWVudUdyb3VwIGZyb20gJy4vdXNlSG9yaXpvbnRhbE5hdk1lbnVHcm91cCcKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnSG9yaXpvbnRhbE5hdk1lbnVHcm91cCcsCiAgY29tcG9uZW50czogewogICAgSG9yaXpvbnRhbE5hdk1lbnVMaW5rLAogIH0sCiAgcHJvcHM6IHsKICAgIGl0ZW06IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICByZXF1aXJlZDogdHJ1ZSwKICAgIH0sCiAgfSwKICBzZXR1cChwcm9wcykgewogICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG9iamVjdC1jdXJseS1uZXdsaW5lCiAgICBjb25zdCB7IGlzQWN0aXZlLCBpc09wZW4sIHVwZGF0ZUdyb3VwT3BlbiwgdXBkYXRlSXNBY3RpdmUgfSA9IHVzZUhvcml6b250YWxOYXZNZW51R3JvdXAocHJvcHMuaXRlbSkKCiAgICBjb25zdCByZXNvbHZlTmF2Q29tcG9uZW50ID0gaXRlbSA9PiB7CiAgICAgIGlmIChpdGVtLmNoaWxkcmVuKSByZXR1cm4gJ2hvcml6b250YWwtbmF2LW1lbnUtZ3JvdXAnCgogICAgICByZXR1cm4gJ2hvcml6b250YWwtbmF2LW1lbnUtbGluaycKICAgIH0KCiAgICBjb25zdCByZWZBY3RpdmF0b3IgPSByZWYobnVsbCkKICAgIGNvbnN0IHJlZkNvbnRlbnQgPSByZWYobnVsbCkKICAgIGNvbnN0IHsgaXNPdXRzaWRlOiBpc01vdXNlT3V0c2lkZU9mQWN0aXZhdG9yIH0gPSB1c2VNb3VzZUluRWxlbWVudChyZWZBY3RpdmF0b3IpCiAgICBjb25zdCB7IGlzT3V0c2lkZTogaXNNb3VzZU91dHNpZGVPZkNvbnRlbnQgfSA9IHVzZU1vdXNlSW5FbGVtZW50KHJlZkNvbnRlbnQpCgogICAgY29uc3QgaXNQYXJlbnRNZW51T3BlbiA9IGluamVjdCgnaXNQYXJlbnRNZW51T3BlbicpCgogICAgY29uc3QgaXNNZW51T3BlbiA9IGNvbXB1dGVkKAogICAgICAoKSA9PiAhKGlzTW91c2VPdXRzaWRlT2ZDb250ZW50LnZhbHVlICYmIGlzTW91c2VPdXRzaWRlT2ZBY3RpdmF0b3IudmFsdWUpIHx8IGlzUGFyZW50TWVudU9wZW4udmFsdWUsCiAgICApCgogICAgLy8gaTE4bgogICAgY29uc3QgeyB0IH0gPSB1c2VVdGlscygpCgogICAgLy8gQUNMCiAgICBjb25zdCB7IGNhblZpZXdWZXJ0aWNhbE5hdk1lbnVHcm91cCB9ID0gdXNlQWNsVXRpbHMoKQoKICAgIC8vIFRlbXBsYXJlIHJlZiAmIGludGVybmFsIHZhbHVlCiAgICBjb25zdCByZWZNZW51ID0gcmVmKG51bGwpCiAgICBjb25zdCBpc01lbnVBY3RpdmUgPSByZWYoZmFsc2UpCiAgICB3YXRjaEVmZmVjdCgoKSA9PiB7CiAgICAgIGlzTWVudUFjdGl2ZS52YWx1ZSA9IHJlZk1lbnUudmFsdWUgPyByZWZNZW51LnZhbHVlLmlzQWN0aXZlIDogZmFsc2UKICAgIH0pCgogICAgLy8gVGVtcGxhdGUgcmVmIENoaWxkIE1lbnUKICAgIGNvbnN0IGlzQ29udGVudFNjcm9sbGFibGUgPSByZWYoZmFsc2UpCiAgICBjb25zdCBvcGVuQ2hpbGRNZW51TGVmdCA9IHJlZihmYWxzZSkKICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdXNlV2luZG93U2l6ZSgpCiAgICBjb25zdCB1cGRhdGVNZW51RHJvcExlZnQgPSBhc3luYyAoKSA9PiB7CiAgICAgIGludm9rZShhc3luYyAoKSA9PiB7CiAgICAgICAgYXdhaXQgdW50aWwoaXNNZW51QWN0aXZlKS50b0JlVHJ1dGh5KCkKCiAgICAgICAgbmV4dFRpY2soKCkgPT4gewogICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgIGNvbnN0IGNoaWxkRHJvcGRvd25XaWR0aCA9IHJlZkNvbnRlbnQudmFsdWUuJGVsLm9mZnNldFdpZHRoCiAgICAgICAgICAgIGNvbnN0IHdpbmRvd0NvbnRlbnRXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoIC0gMTYKICAgICAgICAgICAgY29uc3QgeyBsZWZ0OiBjaGlsZERyb3Bkb3duTGVmdCB9ID0gcmVmQ29udGVudC52YWx1ZS4kZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkKICAgICAgICAgICAgY29uc3Qgc2hhbGxEcm9wTGVmdCA9IGNoaWxkRHJvcGRvd25MZWZ0ICsgY2hpbGREcm9wZG93bldpZHRoIC0gd2luZG93Q29udGVudFdpZHRoCiAgICAgICAgICAgIG9wZW5DaGlsZE1lbnVMZWZ0LnZhbHVlID0gc2hhbGxEcm9wTGVmdCA+IDAKCiAgICAgICAgICAgIC8vIEFkZCBzY3JvbGwgdG8gY2hpbGQgZGQgaWYgZG9uJ3QgaGF2ZSBtdWNoIHNwYWNlCgogICAgICAgICAgICBjb25zdCByZWZDb250ZW50VG9wID0gcmVmQ29udGVudC52YWx1ZS4kZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wCiAgICAgICAgICAgIGNvbnN0IHJlZkNvbnRlbnRIZWlnaHQgPSByZWZDb250ZW50LnZhbHVlLiRlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQKICAgICAgICAgICAgaWYgKHdpbmRvdy5pbm5lckhlaWdodCAtIHJlZkNvbnRlbnRUb3AgLSByZWZDb250ZW50SGVpZ2h0IC0gMjggPCA1MCkgewogICAgICAgICAgICAgIGlzQ29udGVudFNjcm9sbGFibGUudmFsdWUgPSB0cnVlCiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIDI1KQogICAgICAgIH0pCiAgICAgIH0pCiAgICB9CiAgICB3YXRjaChbd2lkdGgsIGhlaWdodF0sIHVwZGF0ZU1lbnVEcm9wTGVmdCwgeyBpbW1lZGlhdGU6IHRydWUsIGZsdXNoOiAncG9zdCcsIGRlZXA6IHRydWUgfSkKCiAgICBjb25zdCBjb250ZW50Q2xhc3NlcyA9IGNvbXB1dGVkKCgpID0+IHsKICAgICAgY29uc3QgY2xhc3NlcyA9IFsnbGlzdC1zdHlsZScsICdlbGV2YXRpb24tOCddCgogICAgICBpZiAoaXNDb250ZW50U2Nyb2xsYWJsZS52YWx1ZSkgY2xhc3Nlcy5wdXNoKCdob3Jpem9udGFsLW5hdi1tZW51LWdyb3VwLXNjcm9sbGFibGUnKQoKICAgICAgcmV0dXJuIGNsYXNzZXMuam9pbignICcpCiAgICB9KQoKICAgIHJldHVybiB7CiAgICAgIHJlc29sdmVOYXZDb21wb25lbnQsCiAgICAgIGlzT3BlbiwKICAgICAgaXNBY3RpdmUsCiAgICAgIHVwZGF0ZUdyb3VwT3BlbiwKICAgICAgdXBkYXRlSXNBY3RpdmUsCgogICAgICAvLyBNb3VzZQogICAgICByZWZBY3RpdmF0b3IsCiAgICAgIHJlZkNvbnRlbnQsCiAgICAgIGlzTWVudU9wZW4sCiAgICAgIGlzUGFyZW50TWVudU9wZW4sCiAgICAgIGNvbnRlbnRDbGFzc2VzLAoKICAgICAgLy8gYWx0ZXJuYXRlIGljb25zCiAgICAgIGFsdGVybmF0ZUljb246IHRoZW1lQ29uZmlnLm1lbnUuZ3JvdXBDaGlsZEljb24sCgogICAgICAvLyBPcGVuIE1lbnUgb24gSG92ZXIKICAgICAgc2hhbGxPcGVuR3JvdXBPbkhvdmVyOiB0aGVtZUNvbmZpZy5tZW51Lmhvcml6b250YWxOYXZNZW51R3JvdXBPcGVuT25Ib3ZlciwKCiAgICAgIC8vIGkxOG4KICAgICAgdCwKCiAgICAgIC8vIEFDTAogICAgICBjYW5WaWV3VmVydGljYWxOYXZNZW51R3JvdXAsCgogICAgICAvLyBUZW1wbGF0ZSBSZWYgYW5kIGludGVybmFsIFByb3BlcnRpZXMKICAgICAgcmVmTWVudSwKICAgICAgaXNNZW51QWN0aXZlLAoKICAgICAgLy8gVGVtcGxhdGUgcmVmIGNoaWxkIG1lbnUKICAgICAgb3BlbkNoaWxkTWVudUxlZnQsCiAgICAgIGlzQ29udGVudFNjcm9sbGFibGUsCgogICAgICAvLyBpY29ucwogICAgICBpY29uczogewogICAgICAgIG1kaUNoZXZyb25SaWdodCwKICAgICAgfSwKICAgIH0KICB9LAp9Cg=="},{"version":3,"sources":["HorizontalNavMenuGroup.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"HorizontalNavMenuGroup.vue","sourceRoot":"src/@core/layouts/components/horizontal-nav-menu/components/horizontal-nav-menu-group","sourcesContent":["<template>\n  <v-menu\n    v-if=\"canViewVerticalNavMenuGroup(item)\"\n    ref=\"refMenu\"\n    offset-x\n    attach\n    :open-on-hover=\"shallOpenGroupOnHover\"\n    :left=\"openChildMenuLeft\"\n    max-height=\"60vh\"\n    :content-class=\"contentClasses\"\n  >\n    <template v-slot:activator=\"{ on, attrs }\">\n      <v-list-item\n        ref=\"refActivator\"\n        v-bind=\"attrs\"\n        :class=\"[{'horizontal-nav-menu-group-active': isActive}, { 'menu-open': isMenuActive }]\"\n        class=\"horizontal-nav-menu-group\"\n        v-on=\"on\"\n      >\n        <v-list-item-icon>\n          <v-icon :size=\"item.icon ? 22 : 15\">\n            {{ item.icon || alternateIcon }}\n          </v-icon>\n        </v-list-item-icon>\n        <v-list-item-content>\n          <v-list-item-title>{{ t(item.title) }}</v-list-item-title>\n        </v-list-item-content>\n        <v-list-item-icon>\n          <v-icon>{{ icons.mdiChevronRight }}</v-icon>\n        </v-list-item-icon>\n      </v-list-item>\n    </template>\n    <v-list\n      ref=\"refContent\"\n      elevation=\"8\"\n    >\n      <v-list-item-group color=\"primary\">\n        <component\n          :is=\"resolveNavComponent(child)\"\n          v-for=\"child in item.children\"\n          :key=\"child.subheader || child.title\"\n          :item=\"child\"\n        ></component>\n      </v-list-item-group>\n    </v-list>\n  </v-menu>\n</template>\n\n<script>\nimport HorizontalNavMenuLink from '@core/layouts/components/horizontal-nav-menu/components/horizontal-nav-menu-link/HorizontalNavMenuLink.vue'\n\n// import useHorizontalNavMenu from '@core/layouts/composable/horizontal-nav/useHorizontalNavMenu'\n\n// eslint-disable-next-line object-curly-newline\nimport { ref, computed, inject, watchEffect, nextTick, watch } from '@vue/composition-api'\nimport { mdiChevronRight } from '@mdi/js'\n// eslint-disable-next-line object-curly-newline\nimport { useMouseInElement, until, useWindowSize, invoke } from '@vueuse/core'\nimport { useUtils } from '@core/libs/i18n'\nimport { useUtils as useAclUtils } from '@core/libs/acl'\nimport themeConfig from '@themeConfig'\nimport useHorizontalNavMenuGroup from './useHorizontalNavMenuGroup'\n\nexport default {\n  name: 'HorizontalNavMenuGroup',\n  components: {\n    HorizontalNavMenuLink,\n  },\n  props: {\n    item: {\n      type: Object,\n      required: true,\n    },\n  },\n  setup(props) {\n    // eslint-disable-next-line object-curly-newline\n    const { isActive, isOpen, updateGroupOpen, updateIsActive } = useHorizontalNavMenuGroup(props.item)\n\n    const resolveNavComponent = item => {\n      if (item.children) return 'horizontal-nav-menu-group'\n\n      return 'horizontal-nav-menu-link'\n    }\n\n    const refActivator = ref(null)\n    const refContent = ref(null)\n    const { isOutside: isMouseOutsideOfActivator } = useMouseInElement(refActivator)\n    const { isOutside: isMouseOutsideOfContent } = useMouseInElement(refContent)\n\n    const isParentMenuOpen = inject('isParentMenuOpen')\n\n    const isMenuOpen = computed(\n      () => !(isMouseOutsideOfContent.value && isMouseOutsideOfActivator.value) || isParentMenuOpen.value,\n    )\n\n    // i18n\n    const { t } = useUtils()\n\n    // ACL\n    const { canViewVerticalNavMenuGroup } = useAclUtils()\n\n    // Templare ref & internal value\n    const refMenu = ref(null)\n    const isMenuActive = ref(false)\n    watchEffect(() => {\n      isMenuActive.value = refMenu.value ? refMenu.value.isActive : false\n    })\n\n    // Template ref Child Menu\n    const isContentScrollable = ref(false)\n    const openChildMenuLeft = ref(false)\n    const { width, height } = useWindowSize()\n    const updateMenuDropLeft = async () => {\n      invoke(async () => {\n        await until(isMenuActive).toBeTruthy()\n\n        nextTick(() => {\n          setTimeout(() => {\n            const childDropdownWidth = refContent.value.$el.offsetWidth\n            const windowContentWidth = window.innerWidth - 16\n            const { left: childDropdownLeft } = refContent.value.$el.getBoundingClientRect()\n            const shallDropLeft = childDropdownLeft + childDropdownWidth - windowContentWidth\n            openChildMenuLeft.value = shallDropLeft > 0\n\n            // Add scroll to child dd if don't have much space\n\n            const refContentTop = refContent.value.$el.getBoundingClientRect().top\n            const refContentHeight = refContent.value.$el.getBoundingClientRect().height\n            if (window.innerHeight - refContentTop - refContentHeight - 28 < 50) {\n              isContentScrollable.value = true\n            }\n          }, 25)\n        })\n      })\n    }\n    watch([width, height], updateMenuDropLeft, { immediate: true, flush: 'post', deep: true })\n\n    const contentClasses = computed(() => {\n      const classes = ['list-style', 'elevation-8']\n\n      if (isContentScrollable.value) classes.push('horizontal-nav-menu-group-scrollable')\n\n      return classes.join(' ')\n    })\n\n    return {\n      resolveNavComponent,\n      isOpen,\n      isActive,\n      updateGroupOpen,\n      updateIsActive,\n\n      // Mouse\n      refActivator,\n      refContent,\n      isMenuOpen,\n      isParentMenuOpen,\n      contentClasses,\n\n      // alternate icons\n      alternateIcon: themeConfig.menu.groupChildIcon,\n\n      // Open Menu on Hover\n      shallOpenGroupOnHover: themeConfig.menu.horizontalNavMenuGroupOpenOnHover,\n\n      // i18n\n      t,\n\n      // ACL\n      canViewVerticalNavMenuGroup,\n\n      // Template Ref and internal Properties\n      refMenu,\n      isMenuActive,\n\n      // Template ref child menu\n      openChildMenuLeft,\n      isContentScrollable,\n\n      // icons\n      icons: {\n        mdiChevronRight,\n      },\n    }\n  },\n}\n</script>\n\n<style lang=\"scss\">\n@import '~vuetify/src/styles/styles.sass';\n@import '~@core/preset/preset/mixins.scss';\n\n@include theme(horizontal-nav-menu-group) using ($material) {\n  color: map-deep-get($material, 'text', 'primary');\n\n  &.horizontal-nav-menu-group-active {\n    background: rgba(map-deep-get($shades, 'black'), map-deep-get($material, 'states', 'selected'));\n  }\n\n  &:first-child + .v-menu > .v-menu__content {\n    top: -8px !important;\n  }\n}\n\n.horizontal-nav-menu {\n  .horizontal-nav-menu-group-scrollable {\n    &.v-menu__content {\n      overflow-y: auto !important;\n      @include style-scroll-bar();\n      .v-list {\n        border-bottom-right-radius: 0px;\n        border-top-right-radius: 0px;\n      }\n    }\n  }\n}\n</style>\n"]}]}